<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
    <link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/>
    <link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/>
    <title>Style.java</title>
    <link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/>
    <script type="text/javascript" src="../jacoco-resources/prettify.js"></script>
</head>
<body onload="window['PR_TAB_WIDTH']=4;prettyPrint()">
<div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html"
                                                              class="el_session">Sessions</a></span><a
        href="../index.html" class="el_report">TestUtils Coverage Results, TestGenerator Coverage Results, TestException
    Coverage Results</a> &gt; <a href="index.source.html" class="el_package">priv.ivrdsl.view</a> &gt; <span
        class="el_source">Style.java</span></div>
<h1>Style.java</h1>
<pre class="source lang-java linenums">package priv.ivrdsl.view;

import priv.ivrdsl.model.EventBean;
import priv.ivrdsl.model.GlobalVariableBean;
import priv.ivrdsl.util.VoiceOutputUtils;

import javax.swing.*;
import javax.swing.border.Border;
import javax.swing.border.EmptyBorder;
import javax.swing.border.LineBorder;
import java.awt.*;
import java.io.IOException;
import java.io.UnsupportedEncodingException;

/**
 * JFrame UI 配置。
 *
 * @author Guanidine Beryllium
 */
<span class="nc" id="L20">public class Style {</span>
<span class="nc" id="L21">    public static JTextArea screen = new JTextArea(&quot;&quot;, 3, 8);</span>
<span class="nc" id="L22">    public static JFrame frame = new JFrame(&quot;JetPhone&quot;);</span>

<span class="nc" id="L24">    public static JPanel phone = new JPanel(new BorderLayout(5, 0));</span>
<span class="nc" id="L25">    public static JPanel panelOfButtons = new JPanel(new GridLayout(4, 3, 2, 2));</span>

    private static void customizeButton(JButton button, Border border, Dimension dim, Color color) {
<span class="nc" id="L28">        button.setBackground(color);</span>
<span class="nc" id="L29">        button.setOpaque(true);</span>
<span class="nc" id="L30">        button.setPreferredSize(dim);</span>
<span class="nc" id="L31">        button.setBorder(border);</span>
<span class="nc" id="L32">    }</span>

    private static void readChildren() throws IOException {
<span class="nc" id="L35">        EventBean tmp = GlobalVariableBean.event2TriggerMap.get(&quot;0&quot;);</span>
<span class="nc" id="L36">        GlobalVariableBean.voiceOutput.addText(tmp.getAdditions());</span>
<span class="nc bnc" id="L37" title="All 2 branches missed.">        for (EventBean child : tmp.getChilds()) {</span>
<span class="nc" id="L38">            GlobalVariableBean.voiceOutput.addText(&quot;, &quot; + child.getName() + &quot; 请按 &quot; + child.getTrigger());</span>
<span class="nc" id="L39">            GlobalVariableBean.possibleOptionList.add(child.getTrigger());</span>
<span class="nc" id="L40">        }</span>
<span class="nc" id="L41">        GlobalVariableBean.voiceOutput.speak();</span>
<span class="nc" id="L42">    }</span>

    private static void addListeners(JButton call, JButton end) {
<span class="nc" id="L45">        call.addActionListener(p0 -&gt; {</span>
<span class="nc bnc" id="L46" title="All 2 branches missed.">            if (!GlobalVariableBean.hasStarted) {</span>
<span class="nc" id="L47">                GlobalVariableBean.hasStarted = true;</span>
                try {
<span class="nc" id="L49">                    setTextToScreen(&quot;Home&quot;);</span>
<span class="nc" id="L50">                } catch (UnsupportedEncodingException e) {</span>
<span class="nc" id="L51">                    e.printStackTrace();</span>
<span class="nc" id="L52">                }</span>
<span class="nc" id="L53">                GlobalVariableBean.curTriggerPath = &quot;0&quot;;</span>
                try {
<span class="nc" id="L55">                    readChildren();</span>
<span class="nc" id="L56">                } catch (IOException e) {</span>
<span class="nc" id="L57">                    e.printStackTrace();</span>
<span class="nc" id="L58">                }</span>
            }
<span class="nc" id="L60">        });</span>
<span class="nc" id="L61">        end.addActionListener(p0 -&gt; {</span>
<span class="nc" id="L62">            VoiceOutputUtils.waitingThr.interrupt();</span>
<span class="nc" id="L63">            System.out.println(&quot;Terminating program&quot;);</span>
<span class="nc" id="L64">            System.exit(0);</span>
<span class="nc" id="L65">        });</span>
<span class="nc" id="L66">    }</span>

    private static void setCallButtons(JPanel panel) {
<span class="nc" id="L69">        Border border = new LineBorder(Color.white, 22);</span>
<span class="nc" id="L70">        Border emptyBorder = new LineBorder(Color.white, 10);</span>
<span class="nc" id="L71">        Dimension dim = new Dimension(78, 50);</span>
<span class="nc" id="L72">        JButton buttonCall = new JButton(&quot;&quot;);</span>
<span class="nc" id="L73">        JButton buttonVoice = new JButton(&quot;HOME&quot;);</span>
<span class="nc" id="L74">        JButton buttonEnd = new JButton(&quot;&quot;);</span>
<span class="nc" id="L75">        customizeButton(buttonCall, border, dim, Color.GREEN);</span>
<span class="nc" id="L76">        customizeButton(buttonVoice, emptyBorder, dim, Color.lightGray);</span>
<span class="nc" id="L77">        customizeButton(buttonEnd, border, dim, Color.RED);</span>
<span class="nc" id="L78">        addListeners(buttonCall, buttonEnd);</span>
<span class="nc" id="L79">        panel.add(buttonCall, BorderLayout.LINE_START);</span>
<span class="nc" id="L80">        panel.add(buttonVoice, BorderLayout.CENTER);</span>
<span class="nc" id="L81">        panel.add(buttonEnd, BorderLayout.LINE_END);</span>
<span class="nc" id="L82">    }</span>

    private static void setDeliminatorLine(JPanel panel) {
<span class="nc" id="L85">        JPanel topLine = new JPanel();</span>
<span class="nc" id="L86">        topLine.setBackground(Color.lightGray);</span>
<span class="nc" id="L87">        topLine.setPreferredSize(new Dimension(80, 4));</span>
<span class="nc" id="L88">        panel.setBorder(new EmptyBorder(0, 0, 0, 0));</span>
<span class="nc" id="L89">        JPanel line2 = new JPanel(new GridLayout(1, 3, 0, 0));</span>
<span class="nc" id="L90">        setCallButtons(line2);</span>
<span class="nc" id="L91">        line2.setBackground(Color.white);</span>
<span class="nc" id="L92">        JPanel bottomLine = new JPanel();</span>
<span class="nc" id="L93">        bottomLine.setBackground(Color.lightGray);</span>
<span class="nc" id="L94">        bottomLine.setPreferredSize(new Dimension(80, 1));</span>
<span class="nc" id="L95">        panel.add(topLine, BorderLayout.NORTH);</span>
<span class="nc" id="L96">        panel.add(line2, BorderLayout.CENTER);</span>
<span class="nc" id="L97">        panel.add(bottomLine, BorderLayout.SOUTH);</span>
<span class="nc" id="L98">    }</span>

    /**
     * 设置输出到 UI 界面的文字。
     *
     * @param text 待输出字符串
     * @throws UnsupportedEncodingException 编码格式不支持
     */
    public static void setTextToScreen(String text) throws UnsupportedEncodingException {
<span class="nc bnc" id="L107" title="All 4 branches missed.">        if (text != null &amp;&amp; text.length() &gt; 0) {</span>
<span class="nc" id="L108">            screen.setText(text);</span>
        }
<span class="nc" id="L110">    }</span>

    private static void setScreen(JTextArea myScreen) {
<span class="nc" id="L113">        myScreen.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 16));</span>
<span class="nc" id="L114">        myScreen.setMargin(new Insets(5, 5, 5, 5));</span>
<span class="nc" id="L115">    }</span>

    private static void setTopPanel(JPanel topPanel) {
<span class="nc" id="L118">        JPanel myHeader = new JPanel(new BorderLayout(0, 0));</span>
<span class="nc" id="L119">        setScreen(screen);</span>
<span class="nc" id="L120">        topPanel.add(myHeader, BorderLayout.NORTH);</span>
<span class="nc" id="L121">        topPanel.add(screen, BorderLayout.SOUTH);</span>
<span class="nc" id="L122">    }</span>

    private static void setMainPanel(JPanel myPhone) {
<span class="nc" id="L125">        JPanel topPanel = new JPanel(new BorderLayout(0, 0));</span>
<span class="nc" id="L126">        JPanel myLine = new JPanel(new BorderLayout(0, 0));</span>
<span class="nc" id="L127">        setTopPanel(topPanel);</span>
<span class="nc" id="L128">        setDeliminatorLine(myLine);</span>
<span class="nc" id="L129">        myPhone.add(topPanel, BorderLayout.NORTH);</span>
<span class="nc" id="L130">        myPhone.add(myLine, BorderLayout.CENTER);</span>
<span class="nc" id="L131">    }</span>

    /**
     * JFrame UI 框架配置。
     */
    public static void setFrame() {
<span class="nc" id="L137">        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();</span>
<span class="nc" id="L138">        int height = screenSize.height;</span>
<span class="nc" id="L139">        int width = screenSize.width;</span>
<span class="nc" id="L140">        frame.setSize(width / 2, height / 2);</span>
<span class="nc" id="L141">        frame.setLocationRelativeTo(null);</span>
<span class="nc" id="L142">        frame.setContentPane(phone);</span>
<span class="nc" id="L143">        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);</span>
<span class="nc" id="L144">        frame.pack();</span>
<span class="nc" id="L145">        frame.setVisible(true);</span>
<span class="nc" id="L146">        frame.setResizable(false);</span>
<span class="nc" id="L147">    }</span>

    /**
     * JFrame UI 内容分配置。
     */
    public static void setContent() {
<span class="nc" id="L153">        setMainPanel(phone);</span>
<span class="nc" id="L154">    }</span>
}
</pre>
<div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span>
</div>
</body>
</html>